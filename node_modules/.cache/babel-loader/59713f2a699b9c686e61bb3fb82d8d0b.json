{"ast":null,"code":"import _slicedToArray from\"E:/ItStep/\\u041F\\u0440\\u043E\\u0433\\u0440\\u0430\\u043C\\u0443\\u0432\\u0430\\u043D\\u043D\\u044F/React/test/music-app-deploy-test/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import axios from\"axios\";import s from\"./SearchWindow.module.css\";import clr from\"../Icons/cross.svg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function SearchWindow(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),musicDB=_useState2[0],setMusicDB=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),value=_useState4[0],setValue=_useState4[1];var API_KEY=\"OTMxMmMxMGEtNzllYi00Yjg4LWE5NmItNWI2MTdkOWMyNmMz\";var options={metod:\"GET\",url:\"https://api.napster.com/v2.2/search/verbose?apikey=\".concat(API_KEY,\"&query=\").concat(value)};var getMusicDB=function getMusicDB(){if(value===\"\"){}else{axios(options).then(function(response){setMusicDB(response.data.search.data.tracks);console.log(musicDB);});}};var Clear=function Clear(){setValue(\"\");setMusicDB([]);};useEffect(function(){var timer=setTimeout(function(){getMusicDB();},1000);return function(){return clearTimeout(timer);};},[getMusicDB,options.url],[]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:s.RightWindow,children:[/*#__PURE__*/_jsx(\"h3\",{className:s.Text,children:\"Search\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:s.SearchBar,children:/*#__PURE__*/_jsxs(\"form\",{action:\"\",children:[/*#__PURE__*/_jsx(\"input\",{className:s.Search,type:\"text\",placeholder:\"Songs, Artists, Podcasts ...\",value:value,onChange:function onChange(e){setValue(e.target.value);}}),/*#__PURE__*/_jsx(\"img\",{src:clr,alt:\"\",className:s.searchIcon,onClick:Clear})]})}),/*#__PURE__*/_jsx(\"div\",{className:s.MusicData,children:musicDB.map(function(m){return/*#__PURE__*/_jsxs(\"div\",{className:s.TrackBox,children:[/*#__PURE__*/_jsx(\"img\",{className:s.AlbumImage,src:\"https://api.napster.com/imageserver/v2/albums/\"+m.albumId+\"/images/500x500.jpg\",alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:s.ImageOverlay,children:[/*#__PURE__*/_jsxs(\"h5\",{children:[\"\\\"\",m.name,\"\\\"\"]}),/*#__PURE__*/_jsxs(\"h6\",{children:[\" by \",m.artistName]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Album: \",m.albumName]})]}),/*#__PURE__*/_jsx(\"div\",{className:s.audioPlayer,children:/*#__PURE__*/_jsx(\"audio\",{id:\"myAudio\",src:m.previewURL,controls:true})})]},m.id);})})]}),/*#__PURE__*/_jsx(\"div\",{className:s.rectangle})]})});}export default SearchWindow;","map":{"version":3,"names":["React","useEffect","useState","axios","s","clr","SearchWindow","musicDB","setMusicDB","value","setValue","API_KEY","options","metod","url","getMusicDB","then","response","data","search","tracks","console","log","Clear","timer","setTimeout","clearTimeout","RightWindow","Text","SearchBar","Search","e","target","searchIcon","MusicData","map","m","TrackBox","AlbumImage","albumId","ImageOverlay","name","artistName","albumName","audioPlayer","previewURL","id","rectangle"],"sources":["E:/ItStep/Програмування/React/test/music-app-deploy-test/src/Components/SearchPage/SearchWindow.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport s from \"./SearchWindow.module.css\";\r\nimport clr from \"../Icons/cross.svg\";\r\n\r\nfunction SearchWindow() {\r\n  const [musicDB, setMusicDB] = useState([]);\r\n  const [value, setValue] = useState(\"\");\r\n  const API_KEY = \"OTMxMmMxMGEtNzllYi00Yjg4LWE5NmItNWI2MTdkOWMyNmMz\";\r\n\r\n  const options = {\r\n    metod: \"GET\",\r\n    url: `https://api.napster.com/v2.2/search/verbose?apikey=${API_KEY}&query=${value}`,\r\n  };\r\n\r\n  const getMusicDB = () => {\r\n    if (value === \"\") {\r\n    } else {\r\n      axios(options).then((response) => {\r\n        setMusicDB(response.data.search.data.tracks);\r\n        console.log(musicDB);\r\n      });\r\n    }\r\n  };\r\n\r\n  const Clear = () => {\r\n    setValue(\"\");\r\n    setMusicDB([]);\r\n  };\r\n\r\n  useEffect(\r\n    () => {\r\n      const timer = setTimeout(() => {\r\n        getMusicDB();\r\n      }, 1000);\r\n      return () => clearTimeout(timer);\r\n    },\r\n    [getMusicDB, options.url],\r\n    []\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <div className={s.RightWindow}>\r\n        <h3 className={s.Text}>Search</h3>\r\n        <div>\r\n          <div className={s.SearchBar}>\r\n            <form action=\"\">\r\n              <input\r\n                className={s.Search}\r\n                type=\"text\"\r\n                placeholder=\"Songs, Artists, Podcasts ...\"\r\n                value={value}\r\n                onChange={(e) => {\r\n                  setValue(e.target.value);\r\n                }}\r\n              />\r\n              <img src={clr} alt=\"\" className={s.searchIcon} onClick={Clear} />\r\n            </form>\r\n          </div>\r\n\r\n          <div className={s.MusicData}>\r\n            {musicDB.map((m) => {\r\n              return (\r\n                <div key={m.id} className={s.TrackBox}>\r\n                  <img\r\n                    className={s.AlbumImage}\r\n                    src={\r\n                      \"https://api.napster.com/imageserver/v2/albums/\" +\r\n                      m.albumId +\r\n                      \"/images/500x500.jpg\"\r\n                    }\r\n                    alt=\"\"\r\n                  />\r\n                  <div className={s.ImageOverlay}>\r\n                    <h5>\"{m.name}\"</h5>\r\n                    <h6> by {m.artistName}</h6>\r\n                    <p>Album: {m.albumName}</p>\r\n                  </div>\r\n                  <div className={s.audioPlayer}>\r\n                    <audio id=\"myAudio\" src={m.previewURL} controls />\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n        <div className={s.rectangle}></div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default SearchWindow;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}